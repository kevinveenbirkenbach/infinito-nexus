# General
application_id:             "web-app-wordpress"
database_type:              "mariadb"

# WordPress
WORDPRESS_URL:                "{{ domains | get_url(application_id, WEB_PROTOCOL) }}"
WORDPRESS_MSMTP_SRC:          "{{ [ playbook_dir, 'roles/sys-svc-msmtp/templates/msmtprc.conf.j2' ] | path_join }}"
WORDPRESS_MSMTP_ABS:          "{{ [ docker_compose.directories.config, 'msmtprc.conf'] | path_join }}"
WORDPRESS_MAX_UPLOAD_SIZE:    "{{ applications | get_app_conf(application_id, 'max_upload_size') }}"
WORDPRESS_CUSTOM_IMAGE:       "wordpress_custom"
WORDPRESS_DOCKER_HTML_PATH:   "/var/www/html"
WORDPRESS_DOCKER_CONF_PATH:   "{{ WORDPRESS_CONFIG_PATH }}"
WORDPRESS_VERSION:            "{{ applications | get_app_conf(application_id, 'docker.services.wordpress.version') }}"
WORDPRESS_IMAGE:              "{{ applications | get_app_conf(application_id, 'docker.services.wordpress.image') }}"
WORDPRESS_CONTAINER:          "{{ applications | get_app_conf(application_id, 'docker.services.wordpress.name') }}"
WORDPRESS_VOLUME:             "{{ applications | get_app_conf(application_id, 'docker.volumes.data') }}"
WORDPRESS_DOMAINS:            "{{ applications | get_app_conf(application_id, 'server.domains.canonical') }}"
WORDPRESS_PLUGINS:            "{{ applications | get_app_conf(application_id, 'plugins') | dict2items }}"
WORDPRESS_USER:               "www-data"
WORDPRESS_CONFIG_FILE:        "wp-config.php"
WORDPRESS_CONFIG_PATH:        "{{ [WORDPRESS_DOCKER_HTML_PATH, WORDPRESS_CONFIG_FILE] | path_join }}"
WORDPRESS_CONFIG_UPLD_REL:    "config/upload.ini"
WORDPRESS_CONFIG_UPLD_ABS:    "{{ [docker_compose.directories.instance, WORDPRESS_CONFIG_UPLD_REL ] | path_join }}"