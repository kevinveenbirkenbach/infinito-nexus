docker:
  services:
    oidc:
      enabled: true
      shared: true
    logout:
      enabled: true
    desktop:
      enabled: true
    matomo:
      enabled: false
      shared: false
    database:
      shared: true
      type: "postgres"
      enabled: true
    synapse: 
      version:          latest 
      image:            matrixdotorg/synapse
      name:             matrix-synapse
      backup:
        no_stop_required: true
    element: 
      version:        latest 
      image:          vectorim/element-web
      name:           matrix-element
  volumes: 
    synapse:          "matrix_synapse_data"
playbook_tags:        "setup-all,start"                  # For the initial update use: install-all,ensure-matrix-users-created,start
server_name:          "{{ DOMAIN_PRIMARY }}"             # Adress for the account names etc.
setup:                false                              # Set true in inventory file to execute the setup and initializing procedures
features:
  css:                true
server:
  csp:
    flags:
      script-src-attr:
        unsafe-eval:   true
      script-src-elem:
        unsafe-inline: true
        unsafe-eval:   true
      style-src-attr:
        unsafe-inline: true
    whitelist:
      connect-src:
        - "*"
      script-src-elem:
        - "element.{{ DOMAIN_PRIMARY }}"
        - "https://cdn.jsdelivr.net"
  domains:
    canonical:
      synapse: "matrix.{{ DOMAIN_PRIMARY }}"
      element: "element.{{ DOMAIN_PRIMARY }}"
  client_max_body_size: "15M"

plugins:
# You need to enable them in the inventory file
  chatgpt:    false
  facebook:   false
  immesage:   false
  instagram:  false
  signal:     false
  slack:      false
  telegram:   false
  whatsapp:   false
