title:                            "{{ SOFTWARE_NAME }} Shop"
configuration:
  search:
    engine:                      "{{ SHOPWARE_SEARCH_ENGINE }}"
features:
  central_database:               true
  redis:                          true
  ldap:                           true         # via plugin
  oidc:                           false        # via plugin (Keycloak)
  logout:                         true
server:
  csp:
    flags: {}
    whitelist: {}
  domains:
    aliases: []
    canonical:
      - shop.{{ PRIMARY_DOMAIN }}
docker:
  services:
    database:
      enabled: true
    php:
      image:            "{{ SHOPWARE_PHP_IMAGE }}"
      version:          "{{ SHOPWARE_VERSION }}"
      name:             "{{ SHOPWARE_PHP_CONTAINER }}"
      cpus:             2.0
      mem_reservation:  2g
      mem_limit:        4g
      pids_limit:       2048
    nginx:
      image:            "{{ SHOPWARE_NGINX_IMAGE }}"
      version:          "{{ SHOPWARE_NGINX_VERSION }}"
      name:             "{{ SHOPWARE_NGINX_CONTAINER }}"
      port:             8080
      cpus:             0.5
      mem_reservation:  256m
      mem_limit:        512m
    redis:
      enabled:            "{{ SHOPWARE_REDIS_ENABLED }}"
      cpus:               0.25
      mem_reservation:    256m
      mem_limit:          512m
    elasticsearch:
      mem_limit:          2gb
    opensearch:
      mem_limit:          2gb
    search:
      enabled:            "{{ SHOPWARE_SEARCH_ENABLED }}"
      engine:             "{{ SHOPWARE_SEARCH_ENGINE }}"
  volumes:
    data:                   "{{ SHOPWARE_VOLUME }}"
