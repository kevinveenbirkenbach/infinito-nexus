# General
application_id:               "web-app-espocrm"
entity_name:                  "{{ application_id | get_entity_name }}"

# Database
database_type:                "mariadb"

# Webserver
location_ws:                  "/ws"
ws_port:                      "{{ ports.localhost.websocket[application_id] }}"
client_max_body_size:         "100m"
vhost_flavour:                "ws_generic"

# Espocrm
ESPOCRM_VERSION:              "{{ applications | get_app_conf(application_id, 'docker.services.espocrm.version') }}"
ESPOCRM_IMAGE:                "{{ applications | get_app_conf(application_id, 'docker.services.espocrm.image') }}"
ESPOCRM_CONTAINER:            "{{ applications | get_app_conf(application_id, 'docker.services.espocrm.name') }}"
ESPOCRM_VOLUME:               "{{ applications | get_app_conf(application_id, 'docker.volumes.data') }}"
ESPOCRM_SERVICE:              "{{ entity_name }}"

ESPOCRM_CONFIG_FILE_PRIVATE:  "/var/www/html/data/config-internal.php"
ESPOCRM_URL:                  "{{ domains | get_url(application_id, WEB_PROTOCOL) }}"
ESPOCRM_OIDC_ENABLED:         "{{ applications | get_app_conf(application_id, 'features.oidc') }}"
ESPOCRM_USER:                 "www-data"
