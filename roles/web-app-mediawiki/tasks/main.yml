---
- name: "load docker, db and proxy for '{{ application_id }}'"
  include_role: 
    name: sys-stk-full-stateful
  vars:
    docker_compose_flush_handlers: true

- name: "Load install procedures for '{{ application_id }}''"
  include_tasks: 01_install.yml

- name: "Load debug procedures for '{{ application_id }}''"
  include_tasks: 02_debug.yml

- name: "Load admin setup procedures for '{{ application_id }}''"
  include_tasks: 03_admin.yml

- name: "Load OIDC procedures for '{{ application_id }}''"
  include_tasks: "{{ item }}"
  loop:
    - 04_extensions.yml
    - 05_oidc.yml
  when: MEDIAWIKI_OIDC_ENABLED | bool