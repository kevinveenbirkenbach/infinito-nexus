
# General
application_id:                   "web-app-openwebui"

# Open WebUI
# https://openwebui.com/
OPENWEBUI_URL:                    "{{ lookup('tls', application_id, 'url.base') }}"
OPENWEBUI_VERSION:                "{{ lookup('config', application_id, 'compose.services.openwebui.version') }}"
OPENWEBUI_IMAGE:                  "{{ lookup('config', application_id, 'compose.services.openwebui.image') }}"
OPENWEBUI_CONTAINER:              "{{ lookup('config', application_id, 'compose.services.openwebui.name') }}"
OPENWEBUI_OFFLINE_MODE:           "{{ lookup('config', application_id, 'compose.services.openwebui.offline_mode') }}"
OPENWEBUI_HF_HUB_OFFLINE:         "{{ lookup('config', application_id, 'compose.services.openwebui.hf_hub_offline') }}"
OPENWEBUI_VOLUME:                 "{{ lookup('config', application_id, 'compose.volumes.openwebui') }}"
OPENWEBUI_PORT_PUBLIC:            "{{ ports.localhost.http[application_id] }}"
OPENWEBUI_LDAP_ENABLED:           "{{ lookup('config', application_id, 'compose.services.ldap.enabled') }}"

## OIDC
OPENWEBUI_OIDC_ENABLED:           "{{ lookup('config', application_id, 'compose.services.oidc.enabled') }}"
OPENWEBUI_OIDC_REDIRECT_URL:      "{{ [OPENWEBUI_URL,'/oauth/oidc/callback'] | url_join }}"
OPENWEBUI_OIDC_ADMIN_GROUP:       "{{ [ RBAC.GROUP.NAME, application_id ~ '-administrator' ] | path_join }}"
