- block:
  - name: Include dependencies
    include_role:
      name: '{{ item }}'
    loop:
    - dev-git
    - sys-ctl-alm-compose
    - sys-lock
    - sys-timer-cln-bkps
  - include_tasks: utils/run_once.yml
  when: run_once_svc_bkp_rmt_2_loc is not defined

- name: "create {{ DOCKER_BACKUP_REMOTE_2_LOCAL_DIR }}"
  file:
    path: "{{ DOCKER_BACKUP_REMOTE_2_LOCAL_DIR }}"
    state: directory
    mode: "0755"

- name: create svc-bkp-rmt-2-loc.sh
  copy:
    src: svc-bkp-rmt-2-loc.sh
    dest: "{{ DOCKER_BACKUP_REMOTE_2_LOCAL_SCRIPT }}"
    mode: "0755"

- include_role:
    name: sys-systemctl
  vars:
    systemctl_timer_enabled:  true
    systemctl_on_calendar:    "{{ SYS_SCHEDULE_BACKUP_REMOTE_TO_LOCAL }}"

