- name: create docker network for Ollama, so that other applications can access it
  community.docker.docker_network:
    name: "{{ OLLAMA_NETWORK }}"
    state: present
    ipam_config:
      - subnet: "{{ networks.local[application_id].subnet }}"

- name: Include dependency 'sys-svc-docker'
  include_role:
    name: sys-svc-docker
  when: run_once_sys_svc_docker is not defined

- name: "include docker-compose role"
  include_role:
    name: docker-compose
  vars:
    docker_compose_flush_handlers: true

- include_tasks: utils/run_once.yml