- name: "Update Master REALM mail settings from realm dictionary"
  keycloak_kcadm_update:
    object_kind: "realm"
    lookup_field: "id"
    lookup_value: "master"
    desired:
      smtpServer: "{{ KEYCLOAK_DICTIONARY_REALM.smtpServer }}"
    merge_path: "smtpServer"
    kcadm_exec: "{{ KEYCLOAK_EXEC_KCADM }}"
    assert_mode: "{{ MODE_ASSERT }}"
  no_log: "{{ MASK_CREDENTIALS_IN_LOGS | bool }}"
  async: "{{ ASYNC_TIME if ASYNC_ENABLED | bool else omit }}"
  poll:  "{{ ASYNC_POLL if ASYNC_ENABLED | bool else omit }}"
