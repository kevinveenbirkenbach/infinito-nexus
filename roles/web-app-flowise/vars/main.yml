# General
application_id:                       "web-app-flowise"
domain:                               "{{ lookup('domain',application_id) }}"
http_port:                            "{{ ports.localhost.http[application_id] }}"

# Flowise
# https://flowiseai.com/ 
FLOWISE_VERSION:                      "{{ lookup('config', application_id, 'docker.services.flowise.version') }}"
FLOWISE_IMAGE:                        "{{ lookup('config', application_id, 'docker.services.flowise.image') }}"
FLOWISE_CONTAINER:                    "{{ lookup('config', application_id, 'docker.services.flowise.name') }}"
FLOWISE_VOLUME:                       "{{ lookup('config', application_id, 'docker.volumes.flowise') }}"
FLOWISE_PORT_PUBLIC:                  "{{ ports.localhost.http[application_id] }}"
FLOWISE_PORT_INTERNAL:                3000

# Dependencies

## LiteLLM
# https://www.litellm.ai/
FLOWISE_LITELLM_VERSION:              "{{ lookup('config', application_id, 'docker.services.litellm.version') }}"
FLOWISE_LITELLM_IMAGE:                "{{ lookup('config', application_id, 'docker.services.litellm.image') }}"
FLOWISE_LITELLM_CONTAINER:            "{{ lookup('config', application_id, 'docker.services.litellm.name') }}"
FLOWISE_LITELLM_PORT:                 4000
FLOWISE_LITELLM_INTERNAL_URL:         "http://litellm:{{ FLOWISE_LITELLM_PORT }}"
FLOWISE_LITELLM_CONFIG_PATH_HOST:     "{{ [ lookup('docker', application_id, 'directories.config'), 'litellm.config.yaml' ] | path_join }}" 
FLOWISE_LITELLM_CONFIG_PATH_DOCKER:   "/etc/litellm/config.yaml"
FLOWISE_LITELLM_MASTER_KEY:           "{{ lookup('config', application_id, 'credentials.llm_master_key') }}"


## Qdrant
# https://qdrant.tech/
FLOWISE_QDRANT_VERSION:               "{{ lookup('config', application_id, 'docker.services.qdrant.version') }}"
FLOWISE_QDRANT_IMAGE:                 "{{ lookup('config', application_id, 'docker.services.qdrant.image') }}"
FLOWISE_QDRANT_CONTAINER:             "{{ lookup('config', application_id, 'docker.services.qdrant.name') }}"
FLOWISE_QDRANT_VOLUME:                "{{ lookup('config', application_id, 'docker.volumes.qdrant') }}"
FLOWISE_QDRANT_HTTP_PORT:             6333
FLOWISE_QDRANT_GRPC_PORT:             6334
FLOWISE_QDRANT_INTERNAL_URL:          "http://qdrant:{{ FLOWISE_QDRANT_HTTP_PORT }}"
