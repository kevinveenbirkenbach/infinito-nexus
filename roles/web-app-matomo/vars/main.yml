---
# General
application_id:         "web-app-matomo"
database_type:          "mariadb"
domain:                 "{{ domains | get_domain(application_id) }}"

# Matomo

# Contants
MATOMO_EXCLUDED_IPS:    "{{ applications | get_app_conf(application_id, 'excluded_ips') }}"
MATOMO_VERSION:         "{{ applications | get_app_conf(application_id, 'docker.services.matomo.version') }}"
MATOMO_IMAGE:           "{{ applications | get_app_conf(application_id, 'docker.services.matomo.image') }}"
MATOMO_NAME:            "{{ applications | get_app_conf(application_id, 'docker.services.matomo.name') }}"
MATOMO_DATA:            "{{ applications | get_app_conf(application_id, 'docker.volumes.data') }}"
MATOMO_CONFIG:          "/var/www/html/config/config.ini.php"

# Variables for non-interactive Matomo installation
MATOMO_ADMIN_USER:      "{{ users.administrator.username }}"
MATOMO_ADMIN_PASSWORD:  "{{ users.administrator.password }}"
MATOMO_ADMIN_EMAIL:     "{{ users.administrator.email }}"
MATOMO_SITE_NAME:       "{{ applications | get_app_conf(application_id, 'site_name') | default('Matomo') }}"

# Variables
matomo_index_php_url:   "{{ domains | get_url(application_id, WEB_PROTOCOL) }}/index.php"
matomo_auth_token:      "{{ applications | get_app_conf(application_id, 'credentials.auth_token') }}"

