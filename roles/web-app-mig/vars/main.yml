# General
application_id: "web-app-mig"
entity_name:    "{{ application_id | get_entity_name }}"

# Container port from config
container_port: "{{ lookup('config', application_id, 'compose.services.' ~ entity_name ~ '.port') }}"

# Image settings from config
MIG_IMAGE:      "{{ lookup('config', application_id, 'compose.services.' ~ entity_name ~ '.image') }}"
MIG_VERSION:    "{{ lookup('config', application_id, 'compose.services.' ~ entity_name ~ '.version') }}"
MIG_CONTAINER:  "{{ lookup('config', application_id, 'compose.services.' ~ entity_name ~ '.name') }}"

# Data mount location (roles tree/list generated elsewhere)
MIG_ROLES_DIRECTORY: "{{ [ lookup('container', application_id, 'directories.volumes'), 'roles' ] | path_join }}"
