application_id:               "web-svc-logout"
docker_repository_address:    "https://github.com/kevinveenbirkenbach/universal-logout"
docker_pull_git_repository:   true
container_port:               8000

# The following line leads to that services which arent listed directly in the inventory, 
# but are called over other roles, aren't listed here 
# @todo implement the calling of also dependency domains (propably the easiest to write a script which adds all dependencies to group_names)
LOGOUT_DOMAINS:               "{{ (applications | logout_domains(group_names)) | unique | sort }}"
LOGOUT_ORIGINS:               "{{ LOGOUT_DOMAINS | map('regex_replace', '^(.*)$', WEB_PROTOCOL ~ '://\\1') | list }}"
LOGOUT_CONNECT_SRC_OLD:       "{{ applications | get_app_conf(application_id,'server.csp.whitelist.connect-src') }}"
LOGOUT_CONNECT_SRC_NEW:       "{{ (LOGOUT_CONNECT_SRC_OLD + LOGOUT_ORIGINS) | unique }}"