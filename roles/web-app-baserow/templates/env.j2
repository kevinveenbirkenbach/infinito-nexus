# All Configuration Options:
# https://baserow.io/docs/installation/configuration

# Public URL
BASEROW_PUBLIC_URL={{ BASEROW_PUBLIC_URL }}

# Django secret (required)
# Some baserow images/settings read SECRET_KEY, others BASEROW_SECRET_KEY.
# We set both to be safe.
SECRET_KEY={{ BASEROW_SECRET_KEY | dotenv_quote }}
BASEROW_SECRET_KEY={{ BASEROW_SECRET_KEY | dotenv_quote }}

{% if SYSTEM_EMAIL_ENABLED | bool %}
# Email Server Configuration
EMAIL_SMTP={{ SYSTEM_EMAIL_SMTP | upper }}
EMAIL_SMTP_HOST={{ SYSTEM_EMAIL_HOST }}
EMAIL_SMTP_PORT={{ SYSTEM_EMAIL_PORT }}
EMAIL_SMTP_USER={{ users['no-reply'].email }}
EMAIL_SMTP_PASSWORD={{ users['no-reply'].tokens['web-app-mailu'] | dotenv_quote }}
EMAIL_SMTP_USE_TLS={{ SYSTEM_EMAIL_TLS | upper }}
{% endif %}

DATABASE_USER={{ lookup('database', application_id, 'username') }}
DATABASE_NAME={{ lookup('database', application_id, 'name') }}
DATABASE_HOST={{ lookup('database', application_id, 'host') }}
DATABASE_PORT={{ lookup('database', application_id, 'port') }}
DATABASE_PASSWORD={{ lookup('database', application_id, 'password') | dotenv_quote }}

REDIS_URL=redis://redis:6379
